#:kivy 2.0.0
<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Query'
            on_press:
                root.manager.transition.direction = 'down'
                root.manager.current = 'query_s'
        Button:
            text: 'Add Entry'
            on_press:
                root.manager.transition.direction = 'up'
                root.manager.current = 'add_s'

<QueryScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        BoxLayout:
            orientation: 'vertical'
            TextInput:
                text: 'Hello World!'
            Button:
                text: 'My search button'
                size_hint: (0.4, 0.3)
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
        Button:
            text: 'Back to menu'
            size_hint: (0.4, 0.05)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_press:
                root.manager.transition.direction = 'up'
                root.manager.current = 'menu_s'


<AddScreen>:
    BoxLayout:
        orientation: 'vertical'
        Camera:
            #resolution: (800, 545)
            id: camera
            play: True
        BoxLayout:
            size_hint: (1, 0.10)
            orientation: 'horizontal'
            Button:
                text: 'Back to menu'
                on_press:
                    root.manager.transition.direction = 'down'
                    root.manager.current = 'menu'
            Button:
                text: 'Capture'
                on_press:
                    root.capture()
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'price_selection_s'
                    root.manager.ids.price_selection_screen.ids.price_image.source = 'price.png'
                    root.manager.ids.price_selection_screen.ids.price_image.reload()

<PriceSelectionScreen>:
    BoxLayout:
        Image:
            keep_ratio: True
            allow_stretch: True
            pos_hint: {'bottom':0, 'left':0}
            id: price_image
            Highlight:
                id: red_squares
                width: self.IMAGE_WIDTH
                height: self.IMAGE_HEIGHT

<SManager>:
    id: screen_manager
    MenuScreen:
        id: menu_screen
        name: 'menu_s'
    QueryScreen:
        id: query_screen
        name: 'query_s'
    AddScreen:
        id: add_screen
        name: 'add_s'
    PriceSelectionScreen:
        id: price_selection_screen
        name: 'price_selection_s'
                
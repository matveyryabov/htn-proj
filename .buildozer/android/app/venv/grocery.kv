#:kivy 2.0.0
#:import time time

<MenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Query'
            on_press:
                root.manager.transition.direction = 'down'
                root.manager.current = 'query_s'
        Button:
            text: 'Add Entry'
            on_press:
                root.manager.transition.direction = 'up'
                root.manager.current = 'add_s'

<QueryScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        BoxLayout:
            orientation: 'vertical'
            TextInput:
                text: 'Hello World!'
            Button:
                text: 'My search button'
                size_hint: (0.4, 0.3)
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
        Button:
            text: 'Back to menu'
            size_hint: (0.4, 0.05)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            on_press:
                root.manager.transition.direction = 'up'
                root.manager.current = 'menu_s'


<AddScreen>
    BoxLayout:
        orientation: 'vertical'
        Camera:
            id: camera
            play: True
        BoxLayout:
            size_hint: (1, 0.10)
            orientation: 'horizontal'
            Button:
                text: 'Back to menu'
                on_press:
                    root.manager.transition.direction = 'down'
                    root.manager.current = 'menu_s'
            Button:
                text: 'Capture'
                on_press:
                    root.capture()
                    root.manager.transition.direction = 'left'
                    root.manager.current = 'price_selection_s'
                    # root.manager.ids.price_selection_screen.ids.price_image.source = 'test.png'
                    root.manager.ids.price_selection_screen.ids.price_image.reload()

<PriceSelectionScreen>
    BoxLayout:
        orientation: 'vertical'
        Image:
            id: price_image
            source: 'price.png'
        BoxLayout:
            size_hint: (1, 0.2)
            orientation: 'horizontal'
            TextInput:
                id: price_field
                size_hint: (0.7, 1)
            Button:
                size_hint: (0.3, 1)
                on_press:
                    root.ids.price_field.text = 'test'
                text: '--->'
<SManager>
    id: screen_manager
    MenuScreen:
        id: menu_screen
        name: 'menu_s'
    QueryScreen:
        id: query_screen
        name: 'query_s'
    AddScreen:
        id: add_screen
        name: 'add_s'
    PriceSelectionScreen:
        id: price_selection_screen
        name: 'price_selection_s'

